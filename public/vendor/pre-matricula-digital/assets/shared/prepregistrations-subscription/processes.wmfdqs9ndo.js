import{$ as ta,as as wt,_ as Rt,X as Wt,a as Vt,E as aa,q as ra,s as na,V as oa,Y as sa,W as la,at as da,ap as ia,aq as ua,ao as ca,au as Le,a0 as pt,av as fa}from"../../common.wmfdqs9ndo.js";import{d as Ft,E as x,_ as jt,L as W,o as L,c as E,a as s,$ as _,p as v,j as D,F as pe,a2 as ga,r as J,g as M,z as ma,x as Ae,i as va,t as R,w as me,m as ie,ad as ht,s as w,l as pa,a0 as bt}from"../../vendor.wmfdqs9ndo.js";import{g as ee,a as te,t as oe,b as he,c as ae,o as Tt,d as Ut,e as Bt,f as be,h as qt,i as ha,j as ba,k as ya,l as Sa,m as La,n as Aa,p as Pa,s as $a,q as Ea}from"../../geolib.wmfdqs9ndo.js";const Na=Ft({components:{AddressFields:ta,Fields:wt(),XBtn:Rt,XField:Wt},props:{responsible:{type:Object,default:()=>({})},errors:{type:Object,default:()=>({})},fields:{type:Array,default:()=>[]},fetchingPrimaryAddressLatLng:{type:Boolean,default:!1},fetchingSecondaryAddressLatLng:{type:Boolean,default:!1},setFieldValue:{type:Function,required:!1,default:()=>({})}},emits:["clean","update:fetchingPrimaryAddressLatLng","update:fetchingSecondaryAddressLatLng"],setup(e){const t=Vt(),a=x(e,"fields"),n=x(e,"responsible"),l=x(e,"fetchingPrimaryAddressLatLng"),f=x(e,"fetchingSecondaryAddressLatLng");return{store:t,modelFields:a,modelResponsible:n,modelFetchingPrimaryAddressLatLng:l,modelFetchingSecondaryAddressLatLng:f,doesntuseSecondAddress:()=>{n.value.useSecondAddress=!1,n.value.secondAddress=aa()}}}}),Ma={class:"mb-3 d-sm-flex justify-content-between"},_a={class:"row"},Oa={key:0,class:"row mt-5"},Da={class:"col-12 col-md-6 offset-md-3"},ka={class:"row mt-5"},Ca={class:"col-12 col-md-6 offset-md-3"};function wa(e,t,a,n,l,f){const i=W("x-btn"),p=W("fields"),g=W("x-field"),y=W("address-fields");return L(),E("div",null,[t[11]||(t[11]=s("h2",{class:"font-muli-20-primary"}," Preencha o formul\xE1rio abaixo para criar sua inscri\xE7\xE3o: ",-1)),t[12]||(t[12]=s("p",null,[_(" Preencha os campos abaixo para identificar os dados do(a) respons\xE1vel pela inscri\xE7\xE3o do(a) aluno(a). Os campos com asterisco (*) s\xE3o de preenchimento "),s("strong",null,"obrigat\xF3rio"),_(" para prosseguir com a inscri\xE7\xE3o. ")],-1)),t[13]||(t[13]=s("hr",{class:"mt-5 mb-5"},null,-1)),s("div",Ma,[t[9]||(t[9]=s("h3",{class:"font-hind-18-primary"}," Dados do(a) respons\xE1vel pelo(a) aluno(a) ",-1)),v(i,{label:"Limpar dados",class:"border-danger text-danger flex-row","no-caps":"","no-wrap":"",onClick:t[0]||(t[0]=b=>e.$emit("clean"))})]),v(p,{fields:e.modelFields,"onUpdate:fields":t[1]||(t[1]=b=>e.modelFields=b),data:e.modelResponsible,"onUpdate:data":t[2]||(t[2]=b=>e.modelResponsible=b),errors:e.errors},null,8,["fields","data","errors"]),t[14]||(t[14]=s("p",{class:"mt-4 mb-4"},"V\xEDnculo com o(a) aluno(a)",-1)),s("div",_a,[v(g,{modelValue:e.modelResponsible.relationType,"onUpdate:modelValue":t[3]||(t[3]=b=>e.modelResponsible.relationType=b),"container-class":"col-12 col-md-6 form-group",rules:"required",label:"Rela\xE7\xE3o com o(a) aluno(a)",name:"relationType",type:"SELECT",options:e.store.relationTypes,errors:!!e.errors.relationType},null,8,["modelValue","options","errors"])]),t[15]||(t[15]=s("p",{class:"mt-4 mb-4"},"Endere\xE7o residencial",-1)),t[16]||(t[16]=s("p",{class:"text-muted"},[_(" Digite o "),s("strong",null,"CEP"),_(" que corresponde ao seu endere\xE7o e clique em 'Buscar' para preenchimento autom\xE1tico. Caso seu endere\xE7o n\xE3o seja encontrado, preencha manualmente os campos necess\xE1rios para identific\xE1-lo (endere\xE7o, n\xFAmero, bairro). ")],-1)),v(y,{fetchingAddressLatLng:e.modelFetchingPrimaryAddressLatLng,"onUpdate:fetchingAddressLatLng":t[4]||(t[4]=b=>e.modelFetchingPrimaryAddressLatLng=b),data:e.modelResponsible.address,"onUpdate:data":t[5]||(t[5]=b=>e.modelResponsible.address=b),"set-field-value":e.setFieldValue,errors:e.errors,name:"address"},null,8,["fetchingAddressLatLng","data","set-field-value","errors"]),e.modelResponsible&&e.store.config.allow_optional_address&&!e.modelResponsible.useSecondAddress?(L(),E("div",Oa,[s("div",Da,[v(i,{"data-test":"btn-use-second-address",label:"Adicionar endere\xE7o secund\xE1rio",color:"primary",class:"w-100","no-caps":"","no-wrap":"",onClick:t[6]||(t[6]=b=>e.modelResponsible.useSecondAddress=!0)})])])):D("",!0),e.modelResponsible&&e.modelResponsible.useSecondAddress?(L(),E(pe,{key:1},[t[10]||(t[10]=s("p",{class:"mt-4 mb-4"},"Endere\xE7o secund\xE1rio",-1)),v(y,{data:e.modelResponsible.secondAddress,"onUpdate:data":t[7]||(t[7]=b=>e.modelResponsible.secondAddress=b),fetchingAddressLatLng:e.modelFetchingSecondaryAddressLatLng,"onUpdate:fetchingAddressLatLng":t[8]||(t[8]=b=>e.modelFetchingSecondaryAddressLatLng=b),"set-field-value":e.setFieldValue,errors:e.errors,name:"secondAddress"},null,8,["data","fetchingAddressLatLng","set-field-value","errors"]),s("div",ka,[s("div",Ca,[v(i,{"data-test":"btn-doenst-use-second-address",label:"N\xE3o usar endere\xE7o secund\xE1rio",class:"border-danger text-danger w-100","no-caps":"","no-wrap":"",onClick:e.doesntuseSecondAddress},null,8,["onClick"])])])],64)):D("",!0)])}const zn=jt(Na,[["render",wa]]);var It={},Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.default=void 0;var Ra=_e(ee),Wa=_e(te),rt=_e(oe),nt=_e(he),yt=ae;function _e(e){return e&&e.__esModule?e:{default:e}}var Va=function(t,a,n){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:6371e3,f=(0,Ra.default)(t),i=(0,Wa.default)(t),p=a/l,g=(0,rt.default)(n),y=(0,rt.default)(f),b=(0,rt.default)(i),k=Math.asin(Math.sin(y)*Math.cos(p)+Math.cos(y)*Math.sin(p)*Math.cos(g)),o=b+Math.atan2(Math.sin(g)*Math.sin(p)*Math.cos(y),Math.cos(p)-Math.sin(y)*Math.sin(k)),S=(0,nt.default)(o);return(S<yt.MINLON||S>yt.MAXLON)&&(o=(o+3*Math.PI)%(2*Math.PI)-Math.PI,S=(0,nt.default)(o)),{latitude:(0,nt.default)(k),longitude:S}},Fa=Va;Me.default=Fa;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.default=void 0;var ja=ae,Ta=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",n=ja.areaConversion[a];if(n)return t*n;throw new Error("Invalid unit used for area conversion.")},Ua=Ta;Oe.default=Ua;var De={};Object.defineProperty(De,"__esModule",{value:!0});De.default=void 0;var Ba=ae,qa=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",n=Ba.distanceConversion[a];if(n)return t*n;throw new Error("Invalid unit used for distance conversion.")},Ia=qa;De.default=Ia;var ke={};Object.defineProperty(ke,"__esModule",{value:!0});ke.default=void 0;var Pe=ae,Ga=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"kmh";switch(a){case"kmh":return t*Pe.timeConversion.h*Pe.distanceConversion.km;case"mph":return t*Pe.timeConversion.h*Pe.distanceConversion.mi;default:return t}},Xa=Ga;ke.default=Xa;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.default=void 0;function St(e,t){return Ya(e)||Ka(e,t)||Ha(e,t)||za()}function za(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ha(e,t){if(!!e){if(typeof e=="string")return Lt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Lt(e,t)}}function Lt(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Ka(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var a=[],n=!0,l=!1,f=void 0;try{for(var i=e[Symbol.iterator](),p;!(n=(p=i.next()).done)&&(a.push(p.value),!(t&&a.length===t));n=!0);}catch(g){l=!0,f=g}finally{try{!n&&i.return!=null&&i.return()}finally{if(l)throw f}}return a}}function Ya(e){if(Array.isArray(e))return e}var Za=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=Math.pow(10,a);return Math.round(t*n)/n},Qa=function(t){var a=t.toString().split("."),n=St(a,2),l=n[0],f=n[1],i=Math.abs(Number(l)),p=Number("0."+(f||0))*60,g=p.toString().split("."),y=Math.floor(p),b=Za(Number("0."+(g[1]||0))*60).toString(),k=b.split("."),o=St(k,2),S=o[0],h=o[1],A=h===void 0?"0":h;return i+"\xB0 "+y.toString().padStart(2,"0")+"' "+S.padStart(2,"0")+"."+A.padEnd(1,"0")+'"'},Ja=Qa;Ce.default=Ja;var we={};Object.defineProperty(we,"__esModule",{value:!0});we.default=void 0;var xa=er(Tt);function er(e){return e&&e.__esModule?e:{default:e}}var tr=function(t,a){return(0,xa.default)(t,a)[0]},ar=tr;we.default=ar;var Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.default=void 0;var ot=dt(oe),rr=dt(ee),At=dt(te),Pt=ae;function dt(e){return e&&e.__esModule?e:{default:e}}var nr=function(t){var a=0;if(t.length>2){for(var n,l,f,i=0;i<t.length;i++){i===t.length-2?(n=t.length-2,l=t.length-1,f=0):i===t.length-1?(n=t.length-1,l=0,f=1):(n=i,l=i+1,f=i+2);var p=(0,At.default)(t[n]),g=(0,rr.default)(t[l]),y=(0,At.default)(t[f]);a+=((0,ot.default)(y)-(0,ot.default)(p))*Math.sin((0,ot.default)(g))}a=a*Pt.earthRadius*Pt.earthRadius/2}return Math.abs(a)},or=nr;Re.default=or;var We={};Object.defineProperty(We,"__esModule",{value:!0});We.default=void 0;var sr=Ve(ee),lr=Ve(te),ue=Ve(oe),$e=Ve(he),ve=ae;function Ve(e){return e&&e.__esModule?e:{default:e}}var dr=function(t,a){var n=(0,sr.default)(t),l=(0,lr.default)(t),f=(0,ue.default)(n),i=(0,ue.default)(l),p=a/ve.earthRadius,g=f-p,y=f+p,b=(0,ue.default)(ve.MAXLAT),k=(0,ue.default)(ve.MINLAT),o=(0,ue.default)(ve.MAXLON),S=(0,ue.default)(ve.MINLON),h,A;if(g>k&&y<b){var N=Math.asin(Math.sin(p)/Math.cos(f));h=i-N,h<S&&(h+=Math.PI*2),A=i+N,A>o&&(A-=Math.PI*2)}else g=Math.max(g,k),y=Math.min(y,b),h=S,A=o;return[{latitude:(0,$e.default)(g),longitude:(0,$e.default)(h)},{latitude:(0,$e.default)(y),longitude:(0,$e.default)(A)}]},ir=dr;We.default=ir;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.default=void 0;var ur=je(ee),cr=je(te),$t=je(oe),Et=je(he);function je(e){return e&&e.__esModule?e:{default:e}}var fr=function(t){if(Array.isArray(t)===!1||t.length===0)return!1;var a=t.length,n=t.reduce(function(p,g){var y=(0,$t.default)((0,ur.default)(g)),b=(0,$t.default)((0,cr.default)(g));return{X:p.X+Math.cos(y)*Math.cos(b),Y:p.Y+Math.cos(y)*Math.sin(b),Z:p.Z+Math.sin(y)}},{X:0,Y:0,Z:0}),l=n.X/a,f=n.Y/a,i=n.Z/a;return{longitude:(0,Et.default)(Math.atan2(f,l)),latitude:(0,Et.default)(Math.atan2(i,Math.sqrt(l*l+f*f)))}},gr=fr;Fe.default=gr;var Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.default=void 0;var mr=vr(Ut);function vr(e){return e&&e.__esModule?e:{default:e}}var pr=function(t){var a=(0,mr.default)(t),n=a.minLat+(a.maxLat-a.minLat)/2,l=a.minLng+(a.maxLng-a.minLng)/2;return{latitude:parseFloat(n.toFixed(6)),longitude:parseFloat(l.toFixed(6))}},hr=pr;Te.default=hr;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.default=void 0;var Nt=br(Bt);function br(e){return e&&e.__esModule?e:{default:e}}var yr=function(t,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nt.default,l=typeof n=="function"?n(t,a):(0,Nt.default)(t,a);if(isNaN(l))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(l/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},Sr=yr;Ue.default=Sr;var Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;var Mt=qe(ee),_t=qe(te),H=qe(oe),Lr=qe(he);function qe(e){return e&&e.__esModule?e:{default:e}}var Ar=function(t,a){var n=(0,Mt.default)(a),l=(0,_t.default)(a),f=(0,Mt.default)(t),i=(0,_t.default)(t),p=((0,Lr.default)(Math.atan2(Math.sin((0,H.default)(l)-(0,H.default)(i))*Math.cos((0,H.default)(n)),Math.cos((0,H.default)(f))*Math.sin((0,H.default)(n))-Math.sin((0,H.default)(f))*Math.cos((0,H.default)(n))*Math.cos((0,H.default)(l)-(0,H.default)(i))))+360)%360;return p},Pr=Ar;Be.default=Pr;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.default=void 0;var $r=Er(be);function Er(e){return e&&e.__esModule?e:{default:e}}function Ne(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ne=function(a){return typeof a}:Ne=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ne(e)}var Nr=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$r.default;return t.reduce(function(n,l){return Ne(n)==="object"&&n.last!==null&&(n.distance+=a(l,n.last)),n.last=l,n},{last:null,distance:0}).distance},Mr=Nr;Ie.default=Mr;var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.default=void 0;var Ot=it(ee),Dt=it(te),st=it(oe),kt=ae;function it(e){return e&&e.__esModule?e:{default:e}}var _r=function(t,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n=typeof n<"u"&&!isNaN(n)?n:1;var l=(0,Ot.default)(t),f=(0,Dt.default)(t),i=(0,Ot.default)(a),p=(0,Dt.default)(a),g=6356752314245e-6,y=1/298.257223563,b=(0,st.default)(p-f),k,o,S,h,A,N,B=Math.atan((1-y)*Math.tan((0,st.default)(parseFloat(l)))),q=Math.atan((1-y)*Math.tan((0,st.default)(parseFloat(i)))),u=Math.sin(B),C=Math.cos(B),P=Math.sin(q),$=Math.cos(q),V=b,se,le=100;do{var K=Math.sin(V),re=Math.cos(V);if(N=Math.sqrt($*K*($*K)+(C*P-u*$*re)*(C*P-u*$*re)),N===0)return 0;k=u*P+C*$*re,o=Math.atan2(N,k),S=C*$*K/N,h=1-S*S,A=k-2*u*P/h,isNaN(A)&&(A=0);var ne=y/16*h*(4+y*(4-3*h));se=V,V=b+(1-ne)*y*S*(o+ne*N*(A+ne*k*(-1+2*A*A)))}while(Math.abs(V-se)>1e-12&&--le>0);if(le===0)return NaN;var j=h*(kt.earthRadius*kt.earthRadius-g*g)/(g*g),ce=1+j/16384*(4096+j*(-768+j*(320-175*j))),I=j/1024*(256+j*(-128+j*(74-47*j))),de=I*N*(A+I/4*(k*(-1+2*A*A)-I/6*A*(-3+4*N*N)*(-3+4*A*A))),G=g*ce*(o-de);return Math.round(G/n)*n},Or=_r;Ge.default=Or;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.default=void 0;var Dr=function(t){if(/^(NNE|NE|NNW|N)$/.test(t))return"N";if(/^(ENE|E|ESE|SE)$/.test(t))return"E";if(/^(SSE|S|SSW|SW)$/.test(t))return"S";if(/^(WSW|W|WNW|NW)$/.test(t))return"W"},kr=Dr;Xe.default=kr;var ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.default=void 0;var Cr=wr(be);function wr(e){return e&&e.__esModule?e:{default:e}}var Rr=function(t,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cr.default,l=n(t,a),f=Number(a.time)-Number(t.time),i=l/f*1e3;return i},Wr=Rr;ze.default=Wr;var He={};Object.defineProperty(He,"__esModule",{value:!0});He.default=void 0;var lt=Vr(be);function Vr(e){return e&&e.__esModule?e:{default:e}}var Fr=function(t,a,n){return(0,lt.default)(a,t)+(0,lt.default)(t,n)===(0,lt.default)(a,n)},jr=Fr;He.default=jr;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.default=void 0;var Ee=Gt(ee),T=Gt(te);function Gt(e){return e&&e.__esModule?e:{default:e}}var Tr=function(t,a){for(var n=!1,l=a.length,f=-1,i=l-1;++f<l;i=f)((0,T.default)(a[f])<=(0,T.default)(t)&&(0,T.default)(t)<(0,T.default)(a[i])||(0,T.default)(a[i])<=(0,T.default)(t)&&(0,T.default)(t)<(0,T.default)(a[f]))&&(0,Ee.default)(t)<((0,Ee.default)(a[i])-(0,Ee.default)(a[f]))*((0,T.default)(t)-(0,T.default)(a[f]))/((0,T.default)(a[i])-(0,T.default)(a[f]))+(0,Ee.default)(a[f])&&(n=!n);return n},Ur=Tr;Ke.default=Ur;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.default=void 0;var Br=qr(qt);function qr(e){return e&&e.__esModule?e:{default:e}}var Ir=function(t,a,n,l){return(0,Br.default)(t,a,n)<l},Gr=Ir;Ye.default=Gr;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.default=void 0;var Xr=zr(be);function zr(e){return e&&e.__esModule?e:{default:e}}var Hr=function(t,a,n){var l=.01;return(0,Xr.default)(t,a,l)<n},Kr=Hr;Ze.default=Kr;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.default=void 0;function Yr(e,t){return xr(e)||Jr(e,t)||Qr(e,t)||Zr()}function Zr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qr(e,t){if(!!e){if(typeof e=="string")return Ct(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ct(e,t)}}function Ct(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Jr(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var a=[],n=!0,l=!1,f=void 0;try{for(var i=e[Symbol.iterator](),p;!(n=(p=i.next()).done)&&(a.push(p.value),!(t&&a.length===t));n=!0);}catch(g){l=!0,f=g}finally{try{!n&&i.return!=null&&i.return()}finally{if(l)throw f}}return a}}function xr(e){if(Array.isArray(e))return e}var en=function(t){if(!t.startsWith("POLYGON"))throw new Error("Invalid wkt.");var a=t.slice(t.indexOf("(")+2,t.indexOf(")")).split(", "),n=a.map(function(l){var f=l.split(" "),i=Yr(f,2),p=i[0],g=i[1];return{longitude:parseFloat(p),latitude:parseFloat(g)}});return n},tn=en;Qe.default=tn;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(e,"computeDestinationPoint",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"convertArea",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"convertDistance",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"convertSpeed",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"decimalToSexagesimal",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"findNearest",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"getAreaOfPolygon",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"getBounds",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"getBoundsOfDistance",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"getCenter",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"getCenterOfBounds",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"getCompassDirection",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"getCoordinateKey",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"getCoordinateKeys",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"getDistance",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"getDistanceFromLine",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"getGreatCircleBearing",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(e,"getLatitude",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"getLongitude",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"getPathLength",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"getPreciseDistance",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(e,"getRhumbLineBearing",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(e,"getRoughCompassDirection",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(e,"getSpeed",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(e,"isDecimal",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(e,"isPointInLine",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(e,"isPointInPolygon",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(e,"isPointNearLine",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"isPointWithinRadius",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(e,"isSexagesimal",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"isValidCoordinate",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(e,"isValidLatitude",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(e,"isValidLongitude",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(e,"orderByDistance",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(e,"sexagesimalToDecimal",{enumerable:!0,get:function(){return xe.default}}),Object.defineProperty(e,"toDecimal",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(e,"toRad",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(e,"toDeg",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(e,"wktToPolygon",{enumerable:!0,get:function(){return Z.default}});var a=m(Me),n=m(Oe),l=m(De),f=m(ke),i=m(Ce),p=m(we),g=m(Re),y=m(Ut),b=m(We),k=m(Fe),o=m(Te),S=m(Ue),h=m(ha),A=m(ba),N=m(be),B=m(qt),q=m(Be),u=m(ee),C=m(te),P=m(Ie),$=m(Ge),V=m(Bt),se=m(Xe),le=m(ze),K=m(ya),re=m(He),ne=m(Ke),j=m(Ye),ce=m(Ze),I=m(Sa),de=m(La),G=m(Aa),Je=m(Pa),fe=m(Tt),xe=m($a),ge=m(Ea),ye=m(oe),Y=m(he),Z=m(Qe),Se=ae;Object.keys(Se).forEach(function(c){c==="default"||c==="__esModule"||Object.prototype.hasOwnProperty.call(t,c)||Object.defineProperty(e,c,{enumerable:!0,get:function(){return Se[c]}})});function m(c){return c&&c.__esModule?c:{default:c}}})(It);const an=Ft({components:{Fields:wt(),XField:Wt,XBtn:Rt,XCard:ra,XCardSection:na,GoogleMaps:oa,GoogleMapsMarkerComponent:sa,GoogleMapsMarkers:la,SelectAddressPosition:da,SuggestedGradesMessageComponent:ia,NoSuggestedGradesMessage:ua},props:{student:{type:Object,default:()=>({})},stage:{type:Object,default:()=>({})},responsible:{type:Object,default:()=>({})},fields:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},emits:["clean","change-primary-address"],setup(e,{emit:t}){const a=ga("$filters"),n=Vt(),l=J(e.responsible.address),f=J(),i=J(),p=J(!1),g=J(Le()),y=J(Le()),b=J(Le()),k=J(Le()),o=x(e,"student"),S=x(e,"stage"),h=x(e,"responsible"),A=x(e,"fields"),N=M(()=>{var r;return(r=S.value)==null?void 0:r.process}),{grades:B,suggestedGrades:q,suggestGrade:u,suggestedGradesMessage:C}=ca(N),P=M(()=>{var r;return(r=S.value)==null?void 0:r.process.periods.map(d=>({key:d.id,label:d.name})).sortBy("label")}),$=M(()=>{var r;return(r=S.value)==null?void 0:r.process.schools.map(d=>({...d,key:d.id,label:d.name,lat:d.latitude,lng:d.longitude,position:{lat:d.latitude,lng:d.longitude}})).sortBy("label")}),V=M(()=>{var r;return((r=S.value)==null?void 0:r.type)==="WAITING_LIST"}),se=M(()=>V.value?!0:o.value.useSecondSchool&&de.value),le=M(()=>{var r;return V.value?((r=ge.value)==null?void 0:r.length)===0:I.value?!1:Z.value.length===0&&Y.value.length>0}),K=M(()=>V.value?!1:I.value?Z.value.length===0:Z.value.length===0&&Y.value.length===0&&G.value.length>0),re=M(()=>Z.value.length===0&&Y.value.length===0&&G.value.length===0),ne=M(()=>!K.value),j=M(()=>l.value.lat||n.map.center.lat),ce=M(()=>l.value.lng||n.map.center.lng),I=M(()=>{var r;return(r=S.value)==null?void 0:r.renewalAtSameSchool}),de=M(()=>{var r;return(r=S.value)==null?void 0:r.allowWaitingList}),G=M(()=>{var r;return(r=$.value)==null?void 0:r.filter(d=>d.lat&&d.lng).filter(d=>{var z;const O=(z=N.value)==null?void 0:z.vacancies.filter(F=>Number(F.school)===Number(d.id));return o.value.grade&&o.value.period?O==null?void 0:O.find(F=>Number(F.school)!==Number(d.id)||Number(F.grade)!==Number(o.value.grade)?!1:Number(F.period)===Number(o.value.period)):!0})}),Je=(r,d,O)=>{var mt;const z=(mt=o.value)==null?void 0:mt.waitingList.map(U=>`${o.value.grade}-${U.period}-${U.school}`).concat(`${o.value.grade}-${o.value.period}-${o.value.school}`).concat(`${o.value.grade}-${o.value.secondPeriod||o.value.period}-${o.value.secondSchool}`).filter(U=>U!==`${r}-${d}-${O}`&&U.includes("null")===!1);return(V.value?ye.value:$.value).filter(U=>U.lat&&U.lng).filter(U=>{var vt;const at=(vt=N.value)==null?void 0:vt.vacancies.filter(Q=>Number(Q.school)===Number(U.id));return r&&d?at==null?void 0:at.find(Q=>{const ea=`${Q.grade}-${Q.period}-${Q.school}`;return z.includes(ea)||Number(Q.school)!==Number(U.id)||Number(Q.grade)!==Number(r)?!1:Number(Q.period)===Number(d)}):!0})},fe=M(()=>{var d;const r=Z.value;return o.value.grade&&o.value.period&&r.length===0?(d=S.value)!=null&&d.renewalAtSameSchool?[]:Y.value:r}),xe=M(()=>fe.value),ge=M(()=>{var r;return(r=G.value)==null?void 0:r.filter(d=>tt(d))}),ye=M(()=>{let r=ge.value;return r.length===0&&(r=G.value),r}),Y=M(()=>{var r;return(r=$.value)==null?void 0:r.filter(d=>d.lat&&d.lng).filter(d=>{var z;const O=(z=N.value)==null?void 0:z.vacancies.filter(F=>Number(F.school)===Number(d.id));return o.value.grade&&o.value.period?O==null?void 0:O.find(F=>Number(F.school)!==Number(d.id)||Number(F.grade)!==Number(o.value.grade)||Number(F.period)!==Number(o.value.period)?!1:F.available>=1):!0})}),Z=M(()=>Y.value.filter(d=>tt(d))||[]),Se=M(()=>({...pt(),position:{lat:l.value.lat,lng:l.value.lng}})),m=r=>r.map(d=>({label:d.label,position:{lat:d.lat,lng:d.lng},id:d.id})),c=M(()=>({...pt(),position:{lat:l.value.lat,lng:l.value.lng}})),et=()=>{var r,d;(r=fe.value)!=null&&r.find(O=>Number(O.id)===Number(o.value.school))||(o.value.school=null),(d=$.value)!=null&&d.find(O=>Number(O.id)===Number(o.value.school))||(o.value.secondSchool=null,o.value.secondPeriod=null)},Xt=()=>{o.value.useSecondSchool=!1,o.value.secondSchool=null,o.value.secondPeriod=null},zt=r=>{!r||(o.value.school=r.id)},Ht=r=>{!r||(o.value.secondSchool=r.id)},ut=()=>{A.value.filter(r=>r.key.substring(0,7)==="student").map(r=>r.key.substring(8)).forEach(r=>{const d=`responsible_${r}`,O=`student_${r}`;if(h.value[d]){const z=h.value[d];o.value[O]=z}})},ct=r=>{var d;return Boolean(o.value.match&&Number((d=o.value.match)==null?void 0:d.registration.school.id)===Number(r))},tt=r=>{var d;return ct(r.id)?!0:(d=S.value)!=null&&d.renewalAtSameSchool?!1:S.value.radius<=0||It.isPointWithinRadius({latitude:l.value.lat,longitude:l.value.lng},{latitude:r.latitude,longitude:r.longitude},S.value.radius)},Kt=()=>{o.value.useSecondSchool=!0,o.value.secondPeriod=o.value.period},Yt=()=>{t("change-primary-address",{changed:!0,secondAddress:p.value})},Zt=()=>{t("change-primary-address",{changed:!1,secondAddress:!1})},Qt=(r,d)=>{r.secondAddress?(h.value.secondAddress={...h.value.secondAddress,lat:d.lat,lng:d.lng},l.value=h.value.secondAddress):(h.value.address={...h.value.address,lat:d.lat,lng:d.lng},l.value=h.value.address),t("change-primary-address",{changed:!0,secondAddress:r.secondAddress})},Jt=r=>{r.secondAddress?(X.handleUpdateModelResponsible(r,"secondAddress"),X.handleUpdateSelectedAddress(h.value.secondAddress)):(X.handleUpdateModelResponsible(r,"address"),X.handleUpdateSelectedAddress(h.value.address)),t("change-primary-address",{changed:!1,secondAddress:r.secondAddress})},ft=(r,d)=>{h.value[d].lat=r.lat,h.value[d].lng=r.lng},gt=r=>{l.value=r},xt=()=>{var r;(r=o.value)==null||r.waitingList.push({period:"",school:""})};ma(()=>{var r;o.value.match&&(V.value?o.value.secondSchool=o.value.match?String(o.value.match.registration.school.id):null:o.value.school=o.value.match?String(o.value.match.registration.school.id):null,f.value=(r=$.value)==null?void 0:r.find(d=>{var O;return Number(d.id)===Number((O=o.value.match)==null?void 0:O.registration.school.id)}),i.value=B.value.find(d=>{var O;return Number(d.key)===Number((O=o.value.match)==null?void 0:O.registration.grade.id)})),o.value.student_date_of_birth&&u(o.value.student_date_of_birth)}),Ae(()=>o.value.student_date_of_birth,r=>{fa(r)&&X.suggestGrade(r)}),Ae(()=>o.value.grade,()=>{X.clearSchools()}),Ae(()=>o.value.period,()=>{X.clearSchools()}),Ae(B,r=>{r.length===1?o.value.grade=r[0].key:o.value.grade=null});const X={handleUpdateModelResponsible:ft,handleUpdateSelectedAddress:gt,clearSchools:et,suggestGrade:u,copyDataFromResponsible:ut};return h.value.relationType==="SELF"&&X.copyDataFromResponsible(),{ctx:X,filters:a,store:n,selectedAddress:l,matchedSchool:f,matchedGrade:i,suggestedGrades:q,modelStudent:o,modelStage:S,modelResponsible:h,modelFields:A,process:N,grades:B,periods:P,schools:$,isWaitingList:V,showWaitingListOption:se,doesntHaveClosestSchools:le,doesntHaveSchoolsWithVacancies:K,doesntHaveAnySchools:re,haveSchoolsWithVacancies:ne,lat:j,lng:ce,renewalAtSameSchool:I,allowWaitingList:de,allSchools:G,closestSchools:fe,markerClosestSchools:xe,schoolsWithinRange:ge,schoolsForWaitingList:ye,schoolsWithVacancy:Y,filteredSchools:Z,marker:Se,suggestedGradesMessage:C,markerOptionalSchools:m,clearSchools:et,doesntuseSecondSchool:Xt,selectFirstSchool:zt,selectSecondSchool:Ht,suggestGrade:u,copyDataFromResponsible:ut,isMatchedSchool:ct,isWithinRange:tt,setUseSecondSchool:Kt,markerAdjustedAddress:c,isUsingSecondAddress:p,adjustedAddressPosition:g,oldAddressPosition:y,adjustedWaitingListAddressPosition:b,oldWaitingListAddressPosition:k,handleSetNewLocation:Yt,handleCancelNewLocation:Zt,handleConfirmNewLocation:Qt,handleUndoAddressPosition:Jt,handleUpdateModelResponsible:ft,handleUpdateSelectedAddress:gt,addWaitingList:xt,getOptionalSchoolsFilter:Je}}}),rn={class:"mb-3 d-flex justify-content-between"},nn={class:"text-muted"},on={key:0},sn={key:1},ln={key:2},dn={key:0},un=["href"],cn={key:1,class:"alert alert-info","data-test":"alert-matched-school-and-grade"},fn={key:0,"data-test":"alert-matched-school-and-grade-already-selected"},gn={key:2,class:"alert alert-info"},mn={key:0},vn={class:"row"},pn={key:0,class:"col-12"},hn={key:1,class:"col-12"},bn={key:0,class:"alert alert-warning"},yn={key:1,class:"alert alert-warning"},Sn={key:2,class:"alert alert-warning"},Ln={key:2,class:"col-12"},An={class:"col-sm-6 mt-3"},Pn={class:"card-label"},$n=["value"],En={class:"font-weight-bold",style:{"font-size":"18px"}},Nn={class:"small"},Mn={class:"small"},_n={class:"col-sm-6 mt-3"},On={class:"card-label"},Dn=["value"],kn={class:"font-weight-bold",style:{"font-size":"18px"}},Cn={class:"small"},wn={class:"small"},Rn={class:"col-12"},Wn={key:5,class:"col-12 mt-5"},Vn={class:"col-12 mb-3"},Fn={key:1,class:"col-12 mt-3"},jn={class:"row"},Tn={class:"col-12 mt-3 mb-3"},Un={class:"col-12 mb-3"},Bn={class:"col-12"};function qn(e,t,a,n,l,f){var q;const i=W("x-btn"),p=W("fields"),g=W("x-field"),y=W("suggested-grades-message-component"),b=W("no-suggested-grades-message"),k=W("x-card-section"),o=W("x-card"),S=W("google-maps-markers"),h=W("google-maps-marker-component"),A=W("google-maps"),N=W("select-address-position"),B=va("tooltip");return L(),E("div",null,[t[36]||(t[36]=s("h2",{class:"font-muli-20-primary mb-4"}," Preencha o formul\xE1rio abaixo para criar sua inscri\xE7\xE3o: ",-1)),t[37]||(t[37]=s("p",null,[_(" Preencha os campos abaixo para identificar os dados do(a) aluno(a). Os campos com asterisco (*) s\xE3o de preenchimento "),s("strong",null,"obrigat\xF3rio"),_(" para prosseguir com a inscri\xE7\xE3o. ")],-1)),t[38]||(t[38]=s("hr",{class:"mt-5 mb-5"},null,-1)),s("div",rn,[t[19]||(t[19]=s("h3",{class:"font-hind-18-primary"},"Dados do(a) aluno(a)",-1)),v(i,{class:"border-danger text-danger flex-row",label:"Limpar dados","no-caps":"","no-wrap":"","data-test":"clear-student-data",onClick:t[0]||(t[0]=u=>e.$emit("clean"))})]),v(p,{fields:e.modelFields,"onUpdate:fields":t[1]||(t[1]=u=>e.modelFields=u),data:e.modelStudent,"onUpdate:data":t[2]||(t[2]=u=>e.modelStudent=u),errors:e.errors},null,8,["fields","data","errors"]),t[39]||(t[39]=s("h3",{class:"mt-4 font-hind-18-primary"},"Dados da pr\xE9-matr\xEDcula",-1)),s("p",nn,[e.isWaitingList?(L(),E("span",on,t[20]||(t[20]=[_(" Informe a "),s("strong",null,"s\xE9rie",-1),_(", "),s("strong",null,"turno",-1),_(" e a "),s("strong",null,"escola",-1),_(" que deseja realizar a inscri\xE7\xE3o de lista de espera para o(a) aluno(a). ")]))):(L(),E("span",sn,t[21]||(t[21]=[_(" Informe a "),s("strong",null,"s\xE9rie",-1),_(", "),s("strong",null,"turno",-1),_(" e a "),s("strong",null,"escola",-1),_(" que deseja realizar a inscri\xE7\xE3o de pr\xE9-matr\xEDcula para o(a) aluno(a). ")]))),e.allowWaitingList?(L(),E("span",ln,t[22]||(t[22]=[_(" Caso a escola pretendida "),s("strong",null,"n\xE3o possua vagas dispon\xEDveis",-1),_(", voc\xEA pode definir a mesma na op\xE7\xE3o 'Selecionar uma escola para aguardar na lista de espera'. ")]))):D("",!0)]),e.process&&e.process.gradeAgeRangeLink?(L(),E("p",dn,[s("a",{href:e.process.gradeAgeRangeLink,target:"_blank"},t[23]||(t[23]=[_(" Tabela de s\xE9ries recomendadas por faixa et\xE1ria "),s("i",{class:"fa fa-external-link"},null,-1)]),8,un)])):D("",!0),e.matchedSchool&&e.matchedGrade?(L(),E("div",cn,[t[24]||(t[24]=_(" O(a) aluno(a) est\xE1 matriculado(a) atualmente na s\xE9rie ")),s("strong",null,R(e.matchedGrade.label),1),t[25]||(t[25]=_(" na escola ")),s("strong",null,R(e.matchedSchool.name),1),Number(e.matchedSchool.id)===Number(e.modelStudent.school)?(L(),E("span",fn," e ela j\xE1 est\xE1 selecionada")):D("",!0),t[26]||(t[26]=_(". "))])):e.matchedSchool?(L(),E("div",gn,[t[27]||(t[27]=_(" O(a) aluno(a) est\xE1 matriculado atualmente na escola ")),s("strong",null,R(e.matchedSchool.name),1),Number(e.matchedSchool.id)===Number(e.modelStudent.school)?(L(),E("span",mn," e ela j\xE1 est\xE1 selecionada")):D("",!0),t[28]||(t[28]=_(". "))])):D("",!0),s("div",vn,[v(g,{modelValue:e.modelStudent.grade,"onUpdate:modelValue":t[3]||(t[3]=u=>e.modelStudent.grade=u),"container-class":"col-12 col-md-6",rules:"required",label:"S\xE9rie",name:"grade",type:"SELECT",options:e.grades,errors:!!e.errors.grade,searchable:!1},null,8,["modelValue","options","errors"]),v(g,{modelValue:e.modelStudent.period,"onUpdate:modelValue":t[4]||(t[4]=u=>e.modelStudent.period=u),"container-class":"col-12 col-md-6",rules:"required",label:"Turno",name:"period",type:"SELECT",options:e.periods,errors:!!e.errors.period,searchable:!1},null,8,["modelValue","options","errors"]),v(y,{class:"col-12","suggested-grades":e.suggestedGrades,"suggested-grades-message":e.suggestedGradesMessage},null,8,["suggested-grades","suggested-grades-message"]),e.doesntHaveClosestSchools?(L(),E("div",pn,t[29]||(t[29]=[s("div",{class:"alert alert-warning"}," N\xE3o h\xE1 escolas pr\xF3ximas ao seu endere\xE7o, ent\xE3o todas as escolas com vagas dispon\xEDveis na s\xE9rie e turno selecionados est\xE3o sendo exibidas. ",-1)]))):D("",!0),e.doesntHaveSchoolsWithVacancies?(L(),E("div",hn,[e.renewalAtSameSchool&&!e.allowWaitingList?(L(),E("div",bn," N\xE3o h\xE1 vagas dispon\xEDveis para a s\xE9rie e turno selecionados na escola dispon\xEDvel para o aluno(a). Favor contatar a unidade para prosseguimento da inscri\xE7\xE3o. ")):e.allowWaitingList?(L(),E("div",Sn," N\xE3o h\xE1 escolas com vagas dispon\xEDveis para a s\xE9rie e turno selecionados, selecione em qual escola voc\xEA deseja entrar na lista de espera. ")):(L(),E("div",yn," N\xE3o h\xE1 vagas dispon\xEDveis para a s\xE9rie e turno selecionados. Favor contatar a unidade para prosseguimento da inscri\xE7\xE3o. "))])):D("",!0),v(b,{class:"col-12","no-grades-suggested":!!(((q=e.$props.stage)==null?void 0:q.process.blockIncompatibleAgeGroup)&&e.suggestedGrades.length<1&&!!e.modelStudent.student_date_of_birth)},null,8,["no-grades-suggested"]),e.doesntHaveAnySchools?(L(),E("div",Ln,[t[30]||(t[30]=s("div",{class:"alert alert-danger"}," N\xE3o h\xE1 escolas dispon\xEDveis para a s\xE9rie e turno selecionados. ",-1)),e.doesntHaveAnySchools?me((L(),ie(g,{key:0,"model-value":null,"container-class":"hidden",rules:"required",label:"",name:"doesntHaveAnySchools",type:"TEXT",errors:!!e.errors.doesntHaveAnySchools},null,8,["errors"])),[[bt,!1]]):D("",!0)])):D("",!0),e.modelResponsible.useSecondAddress?(L(),E(pe,{key:3},[t[31]||(t[31]=s("div",{class:"col-12 mt-4"}," Qual endere\xE7o deseja usar para buscar a escola mais pr\xF3xima? ",-1)),s("div",An,[s("label",Pn,[me(s("input",{"onUpdate:modelValue":t[5]||(t[5]=u=>e.selectedAddress=u),value:e.modelResponsible.address,name:"which_address",type:"radio",class:"card-input"},null,8,$n),[[ht,e.selectedAddress]]),v(o,{bordered:"",hoverable:""},{default:w(()=>[v(k,{class:"font-hind text-blue-dark"},{default:w(()=>[s("div",En,R(e.filters.joinAddressLine1(e.modelResponsible.address)),1),s("div",Nn,R(e.filters.joinAddressLine2(e.modelResponsible.address)),1),s("div",Mn,R(e.filters.joinAddressLine3(e.modelResponsible.address)),1)]),_:1})]),_:1})])]),s("div",_n,[s("label",On,[me(s("input",{"onUpdate:modelValue":t[6]||(t[6]=u=>e.selectedAddress=u),value:e.modelResponsible.secondAddress,name:"which_address",type:"radio",class:"card-input"},null,8,Dn),[[ht,e.selectedAddress]]),v(o,{bordered:"",hoverable:""},{default:w(()=>[v(k,{class:"font-hind text-blue-dark"},{default:w(()=>[s("div",kn,R(e.filters.joinAddressLine1(e.modelResponsible.secondAddress)),1),s("div",Cn,R(e.filters.joinAddressLine2(e.modelResponsible.secondAddress)),1),s("div",wn,R(e.filters.joinAddressLine3(e.modelResponsible.secondAddress)),1)]),_:1})]),_:1})])])],64)):D("",!0),e.haveSchoolsWithVacancies&&!e.isWaitingList?(L(),E(pe,{key:4},[v(g,{modelValue:e.modelStudent.school,"onUpdate:modelValue":t[7]||(t[7]=u=>e.modelStudent.school=u),"container-class":"col-12 mt-3",rules:"required",label:"Escola",name:"school",type:"SELECT",options:e.closestSchools,errors:!!e.errors.school,searchable:!1},null,8,["modelValue","options","errors"]),v(N,{adjusted:e.adjustedAddressPosition,"onUpdate:adjusted":t[8]||(t[8]=u=>e.adjustedAddressPosition=u),old:e.oldAddressPosition,"onUpdate:old":t[9]||(t[9]=u=>e.oldAddressPosition=u),"allow-responsible-select-map-address":e.modelStage.process.allowResponsibleSelectMapAddress,"old-address-postition":e.oldAddressPosition,"is-using-second-address":e.isUsingSecondAddress,onUndoAddressPosition:t[10]||(t[10]=u=>e.handleUndoAddressPosition(e.oldAddressPosition)),onConfirmNewLocation:t[11]||(t[11]=u=>(e.oldAddressPosition={secondAddress:e.isUsingSecondAddress,lat:e.selectedAddress.lat,lng:e.selectedAddress.lng},e.handleConfirmNewLocation(e.oldAddressPosition,e.adjustedAddressPosition))),onSetNewLocation:e.handleSetNewLocation,onCancelNewLocation:e.handleCancelNewLocation},{map:w(({adjustAddress:u,setNewPosition:C})=>[s("div",Rn,[v(o,{bordered:""},{default:w(()=>[v(A,{config:e.store.map.config,lat:e.lat,lng:e.lng,zoom:e.store.map.zoom,style:{height:"400px"},tabindex:"-1"},{default:w(({map:P})=>[v(S,{markers:e.markerClosestSchools,map:P,onClick:e.selectFirstSchool},{default:w(({marker:$})=>[s("div",null,[s("strong",null,R($.name),1)])]),_:2},1032,["markers","map","onClick"]),e.selectedAddress?(L(),ie(h,{key:0,map:P,marker:e.marker},{default:w(()=>t[32]||(t[32]=[s("div",null,[s("strong",null,"Sua resid\xEAncia")],-1)])),_:2},1032,["map","marker"])):D("",!0),u?(L(),ie(h,{key:1,map:P,marker:e.markerAdjustedAddress,draggable:"",onNewPosition:C},{default:w(()=>t[33]||(t[33]=[s("div",null,[s("strong",null,"Novo ponto de refer\xEAncia")],-1)])),_:2},1032,["map","marker","onNewPosition"])):D("",!0)]),_:2},1032,["config","lat","lng","zoom"])]),_:2},1024)])]),_:1},8,["adjusted","old","allow-responsible-select-map-address","old-address-postition","is-using-second-address","onSetNewLocation","onCancelNewLocation"])],64)):D("",!0),!e.modelStudent.useSecondSchool&&e.allowWaitingList?(L(),E("div",Wn,[v(i,{class:"w-100",color:"primary",label:"Selecionar uma escola para aguardar na lista de espera","no-caps":"","no-wrap":"",onClick:e.setUseSecondSchool},null,8,["onClick"])])):D("",!0),e.showWaitingListOption?(L(),E(pe,{key:6},[t[35]||(t[35]=s("div",{class:"col-12 mt-4"}," Selecione qual escola deseja ficar em lista de espera ",-1)),e.isWaitingList?D("",!0):(L(),ie(g,{key:0,modelValue:e.modelStudent.secondPeriod,"onUpdate:modelValue":t[12]||(t[12]=u=>e.modelStudent.secondPeriod=u),"container-class":"col-12 col-md-6",rules:"required",label:"Turno",name:"secondPeriod",type:"SELECT",options:e.periods,errors:!!e.errors.secondPeriod,searchable:!1},null,8,["modelValue","options","errors"])),v(g,{modelValue:e.modelStudent.secondSchool,"onUpdate:modelValue":t[13]||(t[13]=u=>e.modelStudent.secondSchool=u),"container-class":"col-12",rules:"required",label:"Escola (lista de espera)",name:"secondSchool",type:"SELECT",options:e.getOptionalSchoolsFilter(e.modelStudent.grade,e.isWaitingList?e.modelStudent.period:e.modelStudent.secondPeriod,e.modelStudent.secondSchool),errors:!!e.errors.secondSchool,searchable:!1},null,8,["modelValue","options","errors"]),v(N,{adjusted:e.adjustedWaitingListAddressPosition,"onUpdate:adjusted":t[14]||(t[14]=u=>e.adjustedWaitingListAddressPosition=u),old:e.oldWaitingListAddressPosition,"onUpdate:old":t[15]||(t[15]=u=>e.oldWaitingListAddressPosition=u),"allow-responsible-select-map-address":e.modelStage.process.allowResponsibleSelectMapAddress&&!e.modelStudent.useSecondSchool,"old-address-postition":e.oldAddressPosition,"is-using-second-address":e.isUsingSecondAddress,onUndoAddressPosition:t[16]||(t[16]=u=>e.handleUndoAddressPosition(e.oldWaitingListAddressPosition)),onConfirmNewLocation:t[17]||(t[17]=u=>(e.oldWaitingListAddressPosition={secondAddress:e.isUsingSecondAddress,lat:e.selectedAddress.lat,lng:e.selectedAddress.lng},e.handleConfirmNewLocation(e.oldWaitingListAddressPosition,e.adjustedWaitingListAddressPosition))),onSetNewLocation:e.handleSetNewLocation,onCancelNewLocation:e.handleCancelNewLocation},{map:w(({adjustAddress:u,setNewPosition:C})=>[s("div",Vn,[v(o,{bordered:""},{default:w(()=>[v(A,{config:e.store.map.config,lat:e.lat,lng:e.lng,zoom:e.store.map.zoom,style:{height:"400px"},tabindex:"-1"},{default:w(({map:P})=>[v(S,{markers:e.markerOptionalSchools(e.getOptionalSchoolsFilter(e.modelStudent.grade,e.isWaitingList?e.modelStudent.period:e.modelStudent.secondPeriod,e.modelStudent.secondSchool)),map:P,onClick:e.selectSecondSchool},{default:w(({marker:$})=>[s("div",null,[s("strong",null,R($.label),1)])]),_:2},1032,["markers","map","onClick"]),v(h,{map:P,marker:e.marker},{default:w(()=>[s("div",null,[s("strong",null,R(e.marker.title),1)])]),_:2},1032,["map","marker"]),u?(L(),ie(h,{key:0,map:P,marker:e.markerAdjustedAddress,draggable:"",onNewPosition:C},{default:w(()=>t[34]||(t[34]=[s("div",null,[s("strong",null,"Novo ponto de refer\xEAncia")],-1)])),_:2},1032,["map","marker","onNewPosition"])):D("",!0)]),_:2},1032,["config","lat","lng","zoom"])]),_:2},1024)])]),_:1},8,["adjusted","old","allow-responsible-select-map-address","old-address-postition","is-using-second-address","onSetNewLocation","onCancelNewLocation"]),e.isWaitingList?D("",!0):(L(),E("div",Fn,[v(i,{class:"w-100",color:"primary",label:"N\xE3o usar a op\xE7\xE3o para aguardar na lista de espera","no-caps":"","no-wrap":"",onClick:e.doesntuseSecondSchool},null,8,["onClick"])])),(L(!0),E(pe,null,pa(e.modelStudent.waitingList,(u,C)=>(L(),E("div",{key:C,class:"col-12 border-top pt-3 mt-3"},[s("div",jn,[s("div",Tn," Op\xE7\xE3o "+R(C+2)+": lista de espera ",1),me(v(g,{modelValue:e.modelStudent.grade,"onUpdate:modelValue":t[18]||(t[18]=P=>e.modelStudent.grade=P),"container-class":"col-12 col-md-6",rules:"required",label:"S\xE9rie",type:"SELECT",disabled:"",options:e.grades,errors:!!e.errors.secondPeriod,searchable:!1},null,8,["modelValue","options","errors"]),[[B,"Voc\xEA deve alterar a s\xE9rie no campo principal",void 0,{bottom:!0}]]),v(g,{modelValue:u.period,"onUpdate:modelValue":P=>u.period=P,"container-class":"col-12 col-md-6",rules:"required",label:"Turno",type:"SELECT",name:`waitingList.[${C}].period`,options:e.periods,errors:!!e.errors[`waitingList.[${C}].period`],searchable:!1,onChange:P=>u.school=""},null,8,["modelValue","onUpdate:modelValue","name","options","errors","onChange"]),v(g,{modelValue:u.school,"onUpdate:modelValue":P=>u.school=P,"container-class":"col-12",rules:"required",label:"Escola (lista de espera)",type:"SELECT",name:`waitingList.[${C}].school`,options:e.getOptionalSchoolsFilter(e.modelStudent.grade,u.period,u.school),errors:!!e.errors[`waitingList.[${C}].school`],searchable:!1},null,8,["modelValue","onUpdate:modelValue","name","options","errors"]),s("div",Un,[v(o,{bordered:""},{default:w(()=>[v(A,{config:e.store.map.config,lat:e.lat,lng:e.lng,zoom:e.store.map.zoom,style:{height:"400px"},tabindex:"-1"},{default:w(({map:P})=>[v(S,{markers:e.markerOptionalSchools(e.getOptionalSchoolsFilter(e.modelStudent.grade,u.period,u.school)),map:P,onClick:$=>u.school=$==null?void 0:$.id},{default:w(({marker:$})=>[s("div",null,[s("strong",null,R($.label),1)])]),_:2},1032,["markers","map","onClick"]),v(h,{map:P,marker:e.marker},{default:w(()=>[s("div",null,[s("strong",null,R(e.marker.title),1)])]),_:2},1032,["map","marker"])]),_:2},1032,["config","lat","lng","zoom"])]),_:2},1024),v(i,{class:"ml-auto border-danger text-danger flex-row mt-3",label:"Remover essa op\xE7\xE3o","no-caps":"","no-wrap":"",onClick:P=>e.modelStudent.waitingList.splice(C,1)},null,8,["onClick"])])])]))),128)),s("div",Bn,[e.modelStudent.waitingList.length+1<e.process.waitingListLimit?(L(),ie(i,{key:0,class:"w-100",color:"primary",label:"Adicionar outra escola para aguardar na lista de espera","no-caps":"","no-wrap":"",onClick:e.addWaitingList},null,8,["onClick"])):D("",!0)])],64)):D("",!0),me(v(g,{"model-value":e.student.school||e.student.secondSchool,"container-class":"hidden",rules:"required",name:"atLeastOneSchool",type:"TEXT",errors:!!e.errors.atLeastOneSchool},null,8,["model-value","errors"]),[[bt,!1]])])])}const Hn=jt(an,[["render",qn]]);export{zn as R,Hn as S};
