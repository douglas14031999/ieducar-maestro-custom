import{b as f,k as S,w,d as A,X as C,_ as $,x as k}from"./common.wmfdqs9ndo.js";import{l as v,r as j,p as M}from"./shared/index/notices.wmfdqs9ndo.js";import{d as x,o as i,c as r,a as e,p as u,A as a,j as m,K as T,r as V,m as B}from"./vendor.wmfdqs9ndo.js";const D={class:"row mt-3"},F={key:0,class:"row"},L={class:"col-12 col-lg-10 offset-lg-1"},O={class:"mt-4"},H=["innerHTML"],P=x({__name:"NoticeShow",setup(E){const{data:l,loader:o}=f({id:null,text:null});return o(v).then(n=>{n||(l.value={id:null,text:null})}),(n,c)=>(i(),r("div",null,[e("div",D,[u(S)]),a(l)?(i(),r("div",F,[e("div",L,[c[0]||(c[0]=e("h2",{class:"title-find-school"},"Avisos",-1)),e("div",O,[e("p",{"data-test":"notice-section",innerHTML:a(l).text||"Nenhum aviso cadastrado"},null,8,H)])])])):m("",!0)]))}}),W=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"})),X={key:1},z={class:"row mt-5"},I={class:"col-12 col-lg-10 offset-lg-1"},U={class:"mt-4"},K={class:"mt-2 col-12 col-lg-10 offset-lg-1 p-0"},R={class:"d-flex justify-content-end"},q=x({__name:"NoticeEdit",setup(E){var _;const{dialog:l}=w(),{data:o,loading:n,loader:c}=f({id:null,text:null}),g=(_=T())==null?void 0:_.appContext,{loader:p,loading:d}=A(g,V({title:"Erro",description:"N\xE3o foi poss\xEDvel salvar o aviso. Por favor, entre em contato com o suporte."})),h=()=>{const{id:s,text:t}=o.value;!s&&!t||(o.value.text?N():y())},y=()=>{const{id:s}=o.value;p(()=>j({id:s})).then(()=>{l({title:"Sucesso!",titleClass:"success",description:"Aviso removido com sucesso!"}),o.value.id=null}).finally(()=>{d.value=!1})},N=()=>{p(()=>M(o.value)).then(({id:s})=>{l({title:"Sucesso!",titleClass:"success",description:"Aviso salvo com sucesso!"}),o.value.id=s}).finally(()=>{d.value=!1})};return c(v).then(s=>{s||(o.value={id:null,text:null})}),(s,t)=>(i(),r("div",null,[a(n)?(i(),B(k,{key:0})):m("",!0),!a(n)&&a(o)?(i(),r("div",X,[e("div",z,[e("div",I,[t[1]||(t[1]=e("h2",{class:"title-find-school"},"Avisos",-1)),t[2]||(t[2]=e("div",{class:"mt-4"},[e("p",{class:"font-hind text-justify"}," Ao inserir conte\xFAdo no editor de texto abaixo a mensagem ser\xE1 apresentada na tela inicial de inscri\xE7\xF5es para os respons\xE1veis na se\xE7\xE3o Avisos, respeitando a formata\xE7\xE3o definida. Use o espa\xE7o para inserir orienta\xE7\xF5es aos respons\xE1veis no processo de pr\xE9-matr\xEDcula do munic\xEDpio. ")],-1)),e("div",U,[u(C,{modelValue:a(o).text,"onUpdate:modelValue":t[0]||(t[0]=b=>a(o).text=b),"container-class":"col-12 p-0",name:"text",type:"RICH_TEXT"},null,8,["modelValue"])])])]),e("div",K,[e("div",R,[u($,{loading:a(d),label:"Salvar",color:"primary",class:"w-100 col-12 col-md-2","no-caps":"","no-wrap":"","loading-normal":"",onClick:h},null,8,["loading"])])])])):m("",!0)]))}}),Y=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}));export{W as N,Y as a};
